{% extends 'front/base.html' %}

{% block bodyclass %}stats{% endblock %}

{% block scripts %}
    {{ block.super }}
    <script src="{{ STATIC_URL }}js/raphael-min.js"></script>
    <script src="{{ STATIC_URL }}js/g.raphael-min.js"></script>
    <script src="{{ STATIC_URL }}js/g.pie-min.js"></script>

    <script>
        window.onload = function() {
            var r = Raphael("piechart");
            var pie = r.piechart(
                120, 120, 100,
                {{ courses_count|safe }},
                {
                    legend: {{ courses|safe }},
                    legendpos: "east"
                }
            );
            pie.hover(function() {
                this.sector.stop();
                this.sector.scale(1.1, 1.1, this.cx, this.cy);

                if (this.label) {
                    this.label[0].stop();
                    this.label[0].attr({r: 7.5});
                    this.label[1].attr({"font-weight": 800});
                }
            }, function() {
                this.sector.animate({transform: "s1 1 " + this.cx + " " + this.cy}, 500, "bounce");

                if (this.label) {
                    this.label[0].animate({r: 5}, 500, "bounce");
                    this.label[1].attr({"font-weight": 400});
                }
            });
        };
    </script>
{% endblock scripts %}

{% block content %}
    <h1>Statistiken</h1>

    <h2>Mitglieder pro Studiengang</h2>
    <div id="piechart"></div>

{% endblock %}
